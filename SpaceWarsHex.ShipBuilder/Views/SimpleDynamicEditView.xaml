<rxui:ReactiveUserControl x:Class="SpaceWarsHex.ShipBuilder.Views.SimpleDynamicEditView"
                          x:TypeArguments="vm:SimpleDynamicViewModel"
                          xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                          xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                          xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
                          xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
                          xmlns:local="clr-namespace:SpaceWarsHex.ShipBuilder.Views"
                          xmlns:scg="clr-namespace:System.Collections.Generic;assembly=mscorlib"
                          xmlns:rxui="http://reactiveui.net"
                          xmlns:h="clr-namespace:SpaceWarsHex.ShipBuilder.Helpers"
                          xmlns:cv="clr-namespace:SpaceWarsHex.ShipBuilder.Converters"
                          xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
                          xmlns:vm="clr-namespace:SpaceWarsHex.ShipBuilder.ViewModels;assembly=SpaceWarsHex.ShipBuilder.ViewModels"
                          mc:Ignorable="d" 
                          d:DesignHeight="250" d:DesignWidth="400">
    <UserControl.Resources>
        <cv:EnumValuesConverter x:Key="EnumValuesConverter" />
        <h:DataCellTemplateSelector x:Key="DataCellTemplateSelector">
            <h:DataCellTemplateSelector.IntegerTemplate>
                <DataTemplate>
                    <mah:NumericUpDown Minimum="-2147483648"
                                       Maximum="2147483647"
                                       Value="{Binding Value, Converter={StaticResource IntegerToDoubleConverter}}" />
                </DataTemplate>
            </h:DataCellTemplateSelector.IntegerTemplate>
            <h:DataCellTemplateSelector.FloatTemplate>
                <DataTemplate>
                    <mah:NumericUpDown Minimum="-1000"
                                       Maximum="1000"
                                       Interval="0.01"
                                       StringFormat="0.000"
                                       Value="{Binding Value}" />
                </DataTemplate>
            </h:DataCellTemplateSelector.FloatTemplate>
            <h:DataCellTemplateSelector.StringTemplate>
                <DataTemplate>
                    <TextBox Text="{Binding  Value}" />
                </DataTemplate>
            </h:DataCellTemplateSelector.StringTemplate>
            <h:DataCellTemplateSelector.CheckboxTemplate>
                <DataTemplate>
                    <CheckBox IsChecked="{Binding  Value}" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </DataTemplate>
            </h:DataCellTemplateSelector.CheckboxTemplate>
            <h:DataCellTemplateSelector.EnumTemplate>
                <DataTemplate>
                    <ComboBox ItemsSource="{Binding Path=Value, Converter={StaticResource EnumValuesConverter}}"
                              SelectedItem="{Binding Path= Value, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"  />
                </DataTemplate>
            </h:DataCellTemplateSelector.EnumTemplate>
        </h:DataCellTemplateSelector>
    </UserControl.Resources>
    <ListView Name="PropertyGrid"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch">
        <ListView.View>
            <GridView AllowsColumnReorder="False"
                      >
                <GridViewColumn Header="Property" Width="200"
                                DisplayMemberBinding="{Binding Name}" />
                <GridViewColumn Header="Value"
                                Width="100"
                                CellTemplateSelector="{StaticResource DataCellTemplateSelector}"
                                />
            </GridView>
            </ListView.View>
    </ListView>
</rxui:ReactiveUserControl>
